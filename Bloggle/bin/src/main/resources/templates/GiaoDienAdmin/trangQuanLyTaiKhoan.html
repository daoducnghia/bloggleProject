<!DOCTYPE html>
<!--
Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
Click nbfs://nbhost/SystemFileSystem/Templates/Other/html.html to edit this template
-->
<html>
    <head>
        <title>Quản lý tài khoản</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    </head>
    <body>
        
        <div>
            <form th:action="@{/logout}" method="POST">
                <input type="submit" value="Logout">
            </form>
            <a th:href="@{/doiMatKhau}">Đổi mật khẩu</a>
        </div>

        <div><a th:href="@{/admin/quanLyTK}">Quản lý tài khoản</a></div>
        <div>
            Quản lý bài viết
            <a th:href="@{/admin/quanLyBV?m=month_accounting}">Xem thống kê tháng</a>
            <a th:href="@{/admin/quanLyBV?m=report_list}">Các bài viết bị báo cáo</a>
        </div>
        <div><a th:href="@{/admin/quanLyCD}">Quản lý chủ đề</a></div>
        <form th:action="@{/admin/quanLyTK}" method="get">
            <input name="keyword" type="search" placeholder="Nhập email hoặc tên tài khoản...">
            <button type="submit">Search</button>
        </form>
        <p th:if="${dstk.size()==0}" style="color: red;">Không có tài khoản nào.</p>
        <table th:unless="${dstk.size()==0}">
            <tr>
                <th>Email</th>
                <th>Tên đăng nhập</th>
                <th>Số bài viết</th>
                <th>Hành động</th>
            </tr>
            
            <tr th:each="tk : ${dstk}">
                <td th:text="${tk.getEmail()}"></td>
                <td th:text="${tk.getUsername()}"></td>
                <td th:text="${tk.getDsbv().size()}"></td>
                <td><a th:href="@{/admin/xoaTK/{id} (id=${tk.getId()})}">Xóa</a></td>
            </tr>
                
            
        </table>
    </body>
</html>
